version: v2

managed:
  enabled: true
  override:
    - file_option: optimize_for
      value: SPEED

inputs:
  - directory: proto
  - module: buf.build/bufbuild/protovalidate

plugins:
  # ==========================================
  # Python Generation (for uv)
  # ==========================================

  # Base Python protobuf
  - remote: buf.build/protocolbuffers/python:v33.0
    out: gen/python
    opt:
      - pyi_out=gen/python

  # Python gRPC
  - remote: buf.build/grpc/python:v1.76.0
    out: gen/python
