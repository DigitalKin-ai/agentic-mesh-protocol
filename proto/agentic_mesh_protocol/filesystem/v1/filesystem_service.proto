// Copyright 2025 DigitalKin Inc.
//
// Licensed under the GNU General Public License, Version 3.0 (the "License");
// you may not use this file except in compliance with the License.
// You may obtain a copy of the License at
//
//     https://www.gnu.org/licenses/gpl-3.0.html
//
// Unless required by applicable law or agreed to in writing, software
// distributed under the License is distributed on an "AS IS" BASIS,
// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
// See the License for the specific language governing permissions and
// limitations under the License.

syntax = "proto3";

package agentic_mesh_protocol.filesystem.v1;

import "agentic_mesh_protocol/filesystem/v1/filesystem.proto";

// FilesystemService provides comprehensive file management capabilities including
// upload, retrieval, update, and deletion operations with metadata support,
// filtering, and pagination.
service FilesystemService {
  // UploadFiles allows batch uploading of files with validation and
  // error handling for each individual file. Files are processed
  // atomically - if one fails, others may still succeed.
  rpc UploadFiles(UploadFilesRequest) returns (UploadFilesResponse);

  // GetFile fetches detailed information about a single file,
  // with optional content inclusion. Supports lookup by either
  // unique ID or name within a context.
  rpc GetFile(GetFileRequest) returns (GetFileResponse);

  // GetFiles provides efficient retrieval of multiple files using
  // file IDs, file names, or path prefix, with support for
  // pagination for large result sets, optional content inclusion,
  // and total count of matching files.
  rpc GetFiles(GetFilesRequest) returns (GetFilesResponse);

  // UpdateFile allows updating various aspects of a file including
  // renaming files, updating content and content type, modifying metadata,
  // and creating new versions.
  rpc UpdateFile(UpdateFileRequest) returns (UpdateFileResponse);

  // DeleteFiles supports batch deletion of files with options for
  // soft deletion (marking as deleted), permanent deletion,
  // force deletion of files in use, and individual error reporting per file.
  rpc DeleteFiles(DeleteFilesRequest) returns (DeleteFilesResponse);
}
